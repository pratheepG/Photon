<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">
    <changeSet id="console-logging-config" author="pratheepg" runOnChange="true" runAlways="true">

        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM config_properties WHERE id = 'CONSOLE-LOGGING'
            </sqlCheck>
        </preConditions>

        <comment>Insert logging config for CONSOLE or SPRING_APP_NAME-based app</comment>
        <insert tableName="config_properties">
            <column name="id" value="CONSOLE-LOGGING"/>
            <column name="profile" value="${photonProfilesActive}"/>
            <column name="config"
                    value="{
                        &quot;logging.level.org.springframework.boot.context.config&quot;: &quot;ERROR&quot;,
                        &quot;logging.level.org.springframework.cloud.bootstrap&quot;: &quot;ERROR&quot;,
                        &quot;logging.level.org.springframework.r2dbc.core&quot;: &quot;ERROR&quot;,
                        &quot;logging.level.liquibase&quot;: &quot;ERROR&quot;,
                        &quot;logging.level.org.springdoc&quot;: &quot;ERROR&quot;,
                        &quot;logging.level.org.springframework.web&quot;: &quot;ERROR&quot;,
                        &quot;logging.level.org.springframework.security&quot;: &quot;ERROR&quot;,
                        &quot;logging.level.org.hibernate.SQL&quot;: &quot;ERROR&quot;,
                        &quot;logging.level.org.hibernate.type.descriptor.sql.BasicBinder&quot;: &quot;ERROR&quot;
                    }"/>
        </insert>
    </changeSet>
</databaseChangeLog>